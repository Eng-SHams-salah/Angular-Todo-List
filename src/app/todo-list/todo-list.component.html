<div class="app-container">
  <!-- Header -->
  <header>
    <div class="logo">
      <img src="https://i.pinimg.com/736x/21/a8/52/21a852b510d81059921a7dde5281963d.jpg" alt="logo image">
    </div>
  </header>
  <!-- quote -->
  <div class="quote">
    "Small steps every day lead to big changes."
  </div>
  <!-- Container -->
  <div class="todo-container">
    <!-- Add task -->
    <div class="add-task">
      <input [(ngModel)]="newTask"
             placeholder="Add new task..."
             (keyup.enter)="addTask()" />
      <button class="add-task" (click)="addTask()" aria-label="add task">
        <i class="fas fa-plus"></i>
      </button>
    </div>

    <!-- Tasks list -->
    <ul class="task-list">
      <li *ngFor="let task of tasks; let i = index"
          [class.completed]="task.completed"
          [style.backgroundColor]="task.color || 'var(--card-bg-light)'">

        <!-- checkbox -->
        <input type="checkbox"
               [(ngModel)]="task.completed"
               (ngModelChange)="sortTasks()" />

        <!-- text -->
        <span class="task-text">{{ task.text }}</span>

        <!-- actions -->
        <div class="task-actions">
          <button class="flag-btn"
                  [style.color]="task.color || '#999'"
                  (click)="openColorPicker(i)" aria-label="choose color">
            <i class="fas fa-flag"></i>
          </button>

          <button class="trash-btn" (click)="deleteTask(i)" aria-label="remove task">
            <i class="fas fa-trash"></i>
          </button>
        </div>
      </li>
    </ul>
  </div>

  <!-- Modal colors -->
  <div class="modal" *ngIf="selectedTaskIndex !== null">
    <div class="modal-content" [ngClass]="isDarkMode ? 'dark-card' : ''">
      <h3>Choose a color</h3>
      <div class="color-options">
        <div *ngFor="let color of softColors"
             class="color-circle"
             [style.backgroundColor]="color"
             (click)="setTaskColor(color)">
        </div>
      </div>
      <button class="close-btn" (click)="closeModal()">Close</button>
    </div>
  </div>
</div>
